@charset "UTF-8";

@use "sass:math";

@import "node_modules/bootstrap/scss/functions";

//==============================================================================
// CUSTOM VARS
//==============================================================================
// scss-docs-start caret-variables
$caret-width:                 .3125em !default;
$caret-vertical-align:        middle; //$caret-width * .85 !default;

//$caret-spacing:               $caret-width * .85 !default;
// scss-docs-end caret-variables---------------------------------------------
//==============================================================================
@import "node_modules/bootstrap/scss/variables";
//==============================================================================


@import "node_modules/bootstrap/scss/maps";
@import "node_modules/bootstrap/scss/mixins";
@import "node_modules/bootstrap/scss/utilities";

// Layout & components
@import "node_modules/bootstrap/scss/root";
@import "node_modules/bootstrap/scss/reboot";
@import "node_modules/bootstrap/scss/type";
@import "node_modules/bootstrap/scss/images";
@import "node_modules/bootstrap/scss/containers";
@import "node_modules/bootstrap/scss/grid";
@import "node_modules/bootstrap/scss/tables";
@import "node_modules/bootstrap/scss/forms";
@import "node_modules/bootstrap/scss/buttons";
@import "node_modules/bootstrap/scss/transitions";
@import "node_modules/bootstrap/scss/dropdown";
@import "node_modules/bootstrap/scss/button-group";
@import "node_modules/bootstrap/scss/nav";
@import "node_modules/bootstrap/scss/navbar";
@import "node_modules/bootstrap/scss/card";
@import "node_modules/bootstrap/scss/accordion";
@import "node_modules/bootstrap/scss/breadcrumb";
@import "node_modules/bootstrap/scss/pagination";
@import "node_modules/bootstrap/scss/badge";
@import "node_modules/bootstrap/scss/alert";
@import "node_modules/bootstrap/scss/progress";
@import "node_modules/bootstrap/scss/list-group";
@import "node_modules/bootstrap/scss/close";
@import "node_modules/bootstrap/scss/toasts";
@import "node_modules/bootstrap/scss/modal";
@import "node_modules/bootstrap/scss/tooltip";
@import "node_modules/bootstrap/scss/popover";
@import "node_modules/bootstrap/scss/carousel";
@import "node_modules/bootstrap/scss/spinners";
@import "node_modules/bootstrap/scss/offcanvas";
@import "node_modules/bootstrap/scss/placeholders";

// Helpers
@import "node_modules/bootstrap/scss/helpers";

// Utilities
@import "node_modules/bootstrap/scss/utilities/api";
// scss-docs-end import-stack

// Add navbar-expand breakpoint css vars so we can extrapolate the value from JS
:root {
    @each $name, $value in $grid-breakpoints {
        @if $name != 'xs' {
            --p3-bs-navbar-expand-#{$name}: #{$value};
        }
    }
}

// Use the same breakpoint value used in the HTML code (es. `md` for `navbar-expand-md`)
$navbar-breakpoint: map-get($grid-breakpoints, 'md');

$navbar-bg: $black; //#2c3840; //darken($primary, 0 * $theme-color-interval); //$md-indigo-800;
$navbar-bg-hover: $gray-900; //lighten($navbar-bg, $theme-color-interval/2);//$md-indigo-600;
$navbar-bg-active: $gray-800; //$md-indigo-600;
$navbar-transition: all .2s linear;
$navbar-dropdown-menu-has-transition: true;
$navbar-dropdown-menu-transition-max-height-factor: 10;
$navbar-dropdown-menu-transition-max-height: $navbar-dropdown-menu-transition-max-height-factor * 1024px;
$navbar-dropdown-menu-transition-duration: 0.2s;
$navbar-dropdown-menu-transition-show: max-height $navbar-dropdown-menu-transition-max-height-factor*$navbar-dropdown-menu-transition-duration ease-in-out;
//$navbar-dropdown-menu-transition-hide: max-height $navbar-dropdown-menu-transition-duration linear;

$navbar-dropdown-menu-bg: $navbar-bg; //$md-indigo-800; //$gray-900;
$navbar-dropdown-menu-bg-hover: $navbar-bg-hover; //darken($md-indigo-900, 0%); //$md-indigo-800; //$black;
$navbar-dropdown-menu-bg-active: $navbar-bg-active; //$md-indigo-700; //$gray-900;

$navbar-outline-color: rgba($primary, 0.5);
//------------------------------------------------------------------------------

//------------------------------------------------------------------------------
// MIXINS
//------------------------------------------------------------------------------
@mixin navbar-dropdown-menu-transition {
    display: block !important;
    max-height: 0;
    overflow: hidden;
    &.show {
        max-height: $navbar-dropdown-menu-transition-max-height;
    }
}
//------------------------------------------------------------------------------

@media (max-width: $navbar-breakpoint - 1px) {
    $bg-color: rgba(#fff, 0.066);
    $bg-color-hover: rgba(#fff, 0.022);
    
    $item-line-height: 48px;
    .navbar-nav {
        li {
            position: relative;
            background: $bg-color !important;
            border-radius: 0;
            margin-bottom: 0;
            > .nav-link,
            > .dropdown-item {
                border-radius: 0;
                //padding: $dropdown-item-padding-y $dropdown-item-padding-x !important;
                padding: 0 $dropdown-item-padding-x !important;
                line-height: $item-line-height !important;
                background: transparent !important;
                color: $light;
                margin: 0;
                &:hover,
                &:focus {
                    color: $navbar-dark-active-color;
                    background: $bg-color-hover !important;
                }
                &:focus {
                    outline: 0;
                }
            }
        }
        .dropdown-menu {
            background: transparent !important;
            margin: 0;
            padding: 0;
            border: 0;
            border-radius: 0;
            visibility: hidden; // TAB keypresses skip hidden elements
            &.show {
                visibility: visible;
            }
            // transition
            @if $navbar-dropdown-menu-has-transition {
                @include navbar-dropdown-menu-transition;
                &.show {
                    transition: $navbar-dropdown-menu-transition-show;
                }
            }
            > li {
                display: block;
                &:last-child {
                    margin-bottom: 0;
                }
            }
        }
        // caret
        .dropdown-toggle {
            position: relative;
            &:before,
            &:after {
                $nb-toggler-icon-size: 1.5 * $navbar-toggler-font-size;
                $nb-border-width: $border-width;
                $nb-toggler-width: $nb-toggler-icon-size + 2*($navbar-toggler-padding-x + math.div(1, 16) * 1rem);
                $nb-caret-width: $caret-width;
                //display: none;
                //$v: rfs-value(1.5em);
                position: absolute;
                margin: 0;
                right: calc($nb-toggler-width/2 - $nb-caret-width);
                left: auto;
                /*top: calc(50% - $nb-caret-width/2);*/
                content: "ðŸ¢’"; // "â®ž";
                border: 0 !important;
            }
            &.show {
                &:before,
                &:after {
                    transform: rotateZ(-90deg);
                }
            }
        }
    }
}

@media (min-width: $navbar-breakpoint) {
    .navbar-nav {
        a {
            transition: $navbar-transition;
        }
        /*li:focus > .dropdown-item,*/
        .dropdown-item {
            &:focus {
                outline: 2px solid $navbar-outline-color !important;
            }
        }
        .dropdown-menu {
            max-width: 1.25*$dropdown-min-width;
            // nested menus
            .dropdown-menu {
                margin-top: -1*$dropdown-padding-y;
            }
        }

        .dropend > .dropdown-menu[data-bs-popper] {
            left: 100%;
            right: auto;
            margin-left: 0;
            [dir="rtl"] & {
                left: auto;
                right: 100%;
                margin-right: 0;
            }
        }
        .dropstart > .dropdown-menu[data-bs-popper] {
            left: auto;
            right: 100%;
            margin-right: 0;
            [dir="rtl"] & {
                left: 100%;
                right: auto;
                margin-left: 0;
            }
        }

        @if $enable-caret {
            .dropend > .dropdown-item::before,
            .dropstart > .dropdown-item::after {
                display: none;
            }

            .dropdown-item:after,
            .dropdown-item:before {
                display: inline-block;
                position: absolute;
                margin: 0;
                vertical-align: middle!important;
                top: calc(50% - $caret-width);
                right: calc(#{math.div($dropdown-item-padding-x, 2)} - #{math.div($caret-width, 2)});
                left: auto;
                [dir="rtl"] & {
                    left: calc(#{math.div($dropdown-item-padding-x, 2)} - #{math.div($caret-width, 2)});
                    right: auto;
                }
            }
        }
    }

    .dropend > .dropdown-toggle:after,
    .dropstart > .dropdown-toggle:before {
        vertical-align: middle!important;
    }

}
