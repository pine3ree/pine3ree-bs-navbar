/*!
 * @package pine3ree-bs-navbar (https://github.com/pine3ree/pine3ree-bs-navbar/)
 * @description A multilevel-menu navbar for bootstrap 5.3.x
 * @author pine3ree https://github.com/pine3ree
 * @copyright Copyright 2023-today pine3ree
 * @license Licensed under BSD-3 Clear License (https://github.com/pine3ree/pine3ree-bs-navbar/blob/master/LICENSE)
 */
"use strict";function _createForOfIteratorHelper(t,e){var n="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=_unsupportedIterableToArray(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var o=0,a=function(){};return{s:a,n:function(){return o>=t.length?{done:!0}:{done:!1,value:t[o++]}},e:function(t){throw t},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,c=!0,i=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return c=t.done,t},e:function(t){i=!0,r=t},f:function(){try{c||null==n.return||n.return()}finally{if(i)throw r}}}}function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,o=new Array(e);n<e;n++)o[n]=t[n];return o}if(!window.bootstrap||!window.bootstrap.Dropdown)throw new Error("bootstrap.Dropdown library was not found");!function(t,e){var n="p3.navbar.dropdown",o=".".concat(n),a={bubbles:!0,cancelable:!0},r="click".concat(o),c="hide".concat(o),i="hidden".concat(o),s="show".concat(o),l="shown".concat(o),d="keydown".concat(o),u=("keyup".concat(o),"timeoutID.".concat(n)),f=".".concat("bs.dropdown"),v=".data-api",p="Enter",m="ArrowUp",y="ArrowDown",b="hide".concat(f),h="hidden".concat(f),E="show".concat(f),w="shown".concat(f),g=("click".concat(f).concat(v),"keydown".concat(f).concat(v),"keyup".concat(f).concat(v),"show"),L="dropend",A="dropstart",T='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',S="".concat(T,".").concat(g),k=".dropdown",M=("".concat(k,".").concat(g),"dropdown-item"),H="dropdown-menu",I=".".concat(H),q=("".concat(I,".").concat(g),".".concat("navbar")),_="".concat(H,"-end"),O=("".concat(I,".").concat(_),".navbar-nav"),P=".dropdown-menu .".concat(M,":not(.disabled):not(:disabled)"),C=".".concat(M,":not(.disabled):not(:disabled)"),j=new RegExp("".concat(H,"(?:-[a-z]{2,3})?-end")),N="rtl"===document.documentElement.dir,x="ontouchstart"in window,D=t.Dropdown;function W(){return Math.max(window.innerWidth,document.documentElement.clientWidth)}function z(t){return!!(t&&t instanceof HTMLElement)&&("dropdown"===t.getAttribute("data-bs-toggle")&&!t.disabled&&!t.classList.contains("disabled"))}function F(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=t.relatedTarget||t.target;if(z(r)){o&&t.stopPropagation();var c=r.closest(k);if(c instanceof HTMLElement){var i=W();c.classList.add(g),function(t,e,n){var o=t.querySelector(":scope > ".concat(I));if(!(o instanceof HTMLElement))return;if(e<n)return void o.querySelectorAll(k).forEach((function(t){t.classList.remove(L),t.classList.remove(A)}));var a=o.getBoundingClientRect().left,r=a+o.offsetWidth,c=t.classList.contains(A)||!t.classList.contains(L)&&j.test(o.className);o.querySelectorAll(":scope > ".concat(k)).forEach((function(t){var n=t.querySelector(":scope > ".concat(I));if(n){n.style.visibility="hidden",n.classList.add(g);var o=n.offsetWidth;n.classList.remove(g),n.style.visibility=null;var i=t.classList;N?c?r+o>e?(i.remove(A),i.add(L)):(i.remove(L),i.add(A)):a-o<0?(i.remove(L),i.add(A)):(i.remove(A),i.add(L)):c?a-o<0?(i.remove(A),i.add(L)):(i.remove(L),i.add(A)):r+o>e?(i.remove(L),i.add(A)):(i.remove(A),i.add(L))}}))}(c,i,e),(n||i>=e)&&(!function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=document.querySelectorAll("".concat(q," ").concat(O)),a=t.parentElement.closest(O);o.forEach((function(t){t!==a&&R(t,e,n)}))}(c),U(c))}r.dispatchEvent(new Event(l,a))}}function R(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=[];t instanceof Array||t instanceof NodeList?t.forEach((function(t){t instanceof HTMLElement&&o.push(t)})):t instanceof HTMLElement&&o.push(t),o.length>0&&o.forEach((function(t){t.querySelectorAll(S).forEach((function(t){var e=D.getOrCreateInstance(t);e instanceof D&&e.hide()}))})),e instanceof Event&&!0===n&&e.stopPropagation()}function U(t,e){(function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"*",n=[];if(t instanceof HTMLElement){var o=t.parentElement;o instanceof HTMLElement&&o.querySelectorAll(":scope > ".concat(e)).forEach((function(e){e!==t&&e instanceof HTMLElement&&n.push(e)}))}return n})(t,k).forEach((function(t){var e=t.querySelector(S);if(e){var n=D.getOrCreateInstance(e);n instanceof D&&n.hide()}}))}function B(t,e,n){if(t.key&&"Escape"!==t.key&&"Tab"!==t.key&&[p,m,y].includes(t.key)){var o=t.target;if(o&&o.classList.contains(M)&&(!(e instanceof HTMLElement)||e.contains(o))){if(t.stopPropagation(),t.key===p){if(o.matches(T)){t.preventDefault(),o.click();var a=o.parentElement.querySelector(":scope ".concat(P));a&&a.focus()}}else{var r=o.closest(I);if(r instanceof HTMLElement){var c,i=(c=[]).concat.apply(c,_toConsumableArray(r.querySelectorAll(":scope > li > ".concat(C))));if(t.key===y||t.key===m){var s=(l=i,u=o,f=t.key!==m,v=!0,b=l.length,-1===(h=l.indexOf(u))?l[0]:(h+=f?1:-1,v&&(h=(h+b)%b),l[Math.max(0,Math.min(h,b-1))]));s&&(s.focus(),U(s.parentElement))}}}var l,u,f,v,b,h;n&&o.dispatchEvent(new KeyboardEvent(d,t))}}}function K(t,e,n){t.querySelectorAll(k).forEach((function(t){t.addEventListener("mouseenter",(function(o){!function(t,e,n){if(W()<e)return;var o=t.querySelector(T);if(o instanceof HTMLElement){if(n>0){var a=o.getAttribute("data-".concat(u));a>0&&clearTimeout(a)}if(!o.classList.contains(g)){var r=D.getOrCreateInstance(o);r instanceof D&&r.show()}}}(t,e,n)})),t.addEventListener("mouseleave",(function(o){!function(t,e,n){if(W()<e)return;var o=t.querySelector(T);if(o instanceof HTMLElement){if(o.classList.contains(g)&&n>0){var a=o.getAttribute("data-".concat(u));a>0&&clearTimeout(a)}o.setAttribute("data-".concat(u),setTimeout((function(){if(o.classList.contains(g)){var t=D.getOrCreateInstance(o);t instanceof D&&t.hide()}}),n))}}(t,e,n)}))}))}var Q=function t(e,n){var o=Object.assign({},t.defaults,n),d=[];"string"==typeof e?d=document.querySelectorAll(e):e instanceof HTMLElement?d=[e]:(e instanceof Array||e instanceof NodeList)&&e.forEach((function(t){t instanceof HTMLElement&&d.push(t)})),d.forEach((function(t){var e=Object.assign({},o),n=function(t){var e,n=_createForOfIteratorHelper(t.classList);try{for(n.s();!(e=n.n()).done;){var o=e.value,a=window.getComputedStyle(document.documentElement),r=parseInt(a.getPropertyValue("--p3-bs-".concat(o)));if(Number.isInteger(r))return r}}catch(t){n.e(t)}finally{n.f()}return null}(t);n>0&&(e.breakpoint=n),e.customEvents&&(t.addEventListener(E,(function(t){(t.relatedTarget||t.target).dispatchEvent(new Event(s,a))})),t.addEventListener(b,(function(t){(t.relatedTarget||t.target).dispatchEvent(new Event(c,a))}))),t.addEventListener(w,(function(t){F(t,e.breakpoint,e.closeOthers,e.stopPropagation)})),t.addEventListener(h,(function(t){!function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=t.relatedTarget||t.target;if(z(o)){e&&t.stopPropagation();var r=o.parentElement.closest(k);r instanceof HTMLElement&&(r.classList.remove(g),R(r)),n&&o.dispatchEvent(new Event(i,a))}}(t,e.stopPropagation,e.customEvents)})),t.addEventListener("click",(function(t){!function(t,e,n){var o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],a=t.relatedTarget||t.target;if(z(a)){if(t.stopPropagation(),e&&n>0){var c=a.getAttribute("data-".concat(u));c>0&&clearTimeout(c)}o&&a.dispatchEvent(new MouseEvent(r,t))}}(t,e.hover,e.timeout,e.customEvents)})),document.addEventListener("keydown",(function(n){B(n,t,e.customEvents)}),!0);var d=W();window.addEventListener("resize",(function(e){d=function(t,e,n){var o=W();return n<e&&o>=e?R(t):n>=e&&o<e&&(R(t),t.querySelectorAll(".".concat(L,", .").concat(L)).forEach((function(t){t.classList.remove(A),t.classList.remove(L)}))),o}(t,n,d)})),e.hover&&!x&&K(t,e.breakpoint,e.timeout),t.addEventListener(l,(function(n){!function(t){t instanceof HTMLElement&&document.querySelectorAll(S).forEach((function(e){if(!t.contains(e)){var n=D.getOrCreateInstance(e);n instanceof D&&n.hide()}}))}(t),e.stopPropagation&&n.stopPropagation()}))}))};Q.defaults={breakpoint:768,hover:!1,timeout:250,closeOthers:!1,stopPropagation:!1,customEvents:!1},window.pine3ree=window.pine3ree||{},window.pine3ree.bs=window.pine3ree.bs||{},window.pine3ree.bs.navbar=Q,window.p3bsNavbar=Q,"function"==typeof e&&e().fn===e.jquery&&(e.fn.p3bsNavbar=function(t){var n=e.extend(e.fn.p3bsNavbar.defaults,t);Q(this.get(),n)},e.fn.p3bsNavbar.defaults=Q.defaults)}(window.bootstrap,window.jQuery);
//# sourceMappingURL=pine3ree.bs.navbar.min.js.map
