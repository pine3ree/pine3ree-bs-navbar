{"version":3,"file":"pine3ree.bs.navbar.js","names":["_createForOfIteratorHelper","o","allowArrayLike","it","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","i","F","s","n","done","value","e","_e","f","TypeError","normalCompletion","didErr","err","call","step","next","_e2","return","minLen","_arrayLikeToArray","Object","prototype","toString","slice","constructor","name","from","test","arr","len","arr2","window","bootstrap","Dropdown","Error","$","P3_NAME","P3_DATA_KEY","P3_EVENT_KEY","concat","P3_EVENT_OPTS","bubbles","cancelable","P3_EVENT_CLICK","P3_EVENT_HIDE","P3_EVENT_HIDDEN","P3_EVENT_SHOW","P3_EVENT_SHOWN","P3_EVENT_KEYDOWN","P3_EVENT_KEYUP","P3_DATA_TIMEOUT_ID","BS_NAME","BS_DATA_KEY","BS_EVENT_KEY","BS_DATA_API_KEY","ENTER_KEY","ESCAPE_KEY","TAB_KEY","ARROW_UP_KEY","ARROW_DOWN_KEY","RIGHT_MOUSE_BUTTON","BS_EVENT_HIDE","BS_EVENT_HIDDEN","BS_EVENT_SHOW","BS_EVENT_SHOWN","BS_EVENT_CLICK_DATA_API","BS_EVENT_KEYDOWN_DATA_API","BS_EVENT_KEYUP_DATA_API","BS_CLASS_SHOW","BS_CLASS_DROPUP","BS_CLASS_DROPEND","BS_CLASS_DROPSTART","BS_CLASS_DROPUP_CENTER","BS_CLASS_DROPDOWN_CENTER","BS_SELECTOR_DATA_TOGGLE","BS_SELECTOR_DATA_TOGGLE_SHOWN","BS_SELECTOR_DROPDOWN","BS_SELECTOR_DROPDOWN_SHOWN","BS_CLASS_DROPDOWN_ITEM","BS_CLASS_MENU","BS_SELECTOR_MENU","BS_SELECTOR_MENU_SHOWN","BS_CLASS_NAVBAR","BS_SELECTOR_NAVBAR","BS_CLASS_MENU_END","BS_SELECTOR_MENU_END","BS_SELECTOR_NAVBAR_NAV","BS_SELECTOR_VISIBLE_ITEMS","P3_SELECTOR_VISIBLE_ITEMS","menuEndRegex","RegExp","isRTL","document","documentElement","dir","isTouchDevice","BsDropdown","getClientWidth","Math","max","innerWidth","clientWidth","getSiblings","element","selector","arguments","undefined","siblings","HTMLElement","parent","parentElement","querySelectorAll","forEach","child","push","isEnabledToggle","toggle","getAttribute","disabled","classList","contains","handleShownEvent","breakpoint","closeOthers","stopPropagation","target","relatedTarget","dropdown","closest","add","setChildrenDropDirection","closeOtherNavs","closeSiblingDropdowns","dispatchEvent","Event","handleHiddenEvent","dispatchCustomEvent","remove","closeInnerDropdowns","handleClickDataApiEvent","hover","timeout","timeoutID","clearTimeout","MouseEvent","closeExternalDropdowns","navbar","toggleElement","getOrCreateInstance","hide","container","event","containers","NodeList","c","sibling","querySelector","otherNavs","currentNav","otherNav","menu","left","getBoundingClientRect","right","offsetWidth","isDropStart","className","menuItem","submenu","style","visibility","subwidth","handleBreakpointCrossing","previousWidth","currentWidth","getNextElement","list","shouldGetNext","cycle","listLength","index","indexOf","min","handleKeydown","key","isValidKeyEvent","includes","matches","preventDefault","click","subItem","focus","items","isNavKeyEvent","nextItem","KeyboardEvent","activateHover","dropdowns","addEventListener","handleMouseEnter","handleMouseLeave","show","setAttribute","setTimeout","getExpandBreakpoint","_iterator","_step","nc","rootStyle","getComputedStyle","parseInt","getPropertyValue","Number","isInteger","p3bsNavbar","options","OPTIONS","assign","defaults","navbars","OPT","customEvents","pine3ree","bs","fn","jquery","opts","extend","get","jQuery"],"sources":["pine3ree.bs.navbar.js"],"sourcesContent":["/*!\n * @package pine3ree-bs-navbar (https://github.com/pine3ree/pine3ree-bs-navbar/)\n * @description A multilevel-menu navbar for bootstrap 5.3.x\n * @author pine3ree https://github.com/pine3ree\n * @copyright Copyright 2023-today pine3ree\n * @license Licensed under BSD-3 Clear License (https://github.com/pine3ree/pine3ree-bs-navbar/blob/master/LICENSE)\n */\n\n/* jslint browser:true */\n/* global document, window */\n\n'use strict';\n\n// Check bootstrap library\nif (!window.bootstrap || !window.bootstrap.Dropdown) {\n    throw new Error('bootstrap.Dropdown library was not found');\n}\n\n(function(bootstrap, $) {\n\n    const P3_NAME = 'p3bsNavbar';\n\n    const P3_DATA_KEY = 'p3.navbar.dropdown';\n    const P3_EVENT_KEY = `.${P3_DATA_KEY}`;\n    const P3_EVENT_OPTS = { bubbles: true, cancelable: true };\n    const P3_EVENT_CLICK = `click${P3_EVENT_KEY}`;\n    const P3_EVENT_HIDE = `hide${P3_EVENT_KEY}`;\n    const P3_EVENT_HIDDEN = `hidden${P3_EVENT_KEY}`;\n    const P3_EVENT_SHOW = `show${P3_EVENT_KEY}`;\n    const P3_EVENT_SHOWN = `shown${P3_EVENT_KEY}`;\n    const P3_EVENT_KEYDOWN = `keydown${P3_EVENT_KEY}`;\n    const P3_EVENT_KEYUP = `keyup${P3_EVENT_KEY}`;\n    const P3_DATA_TIMEOUT_ID = `timeoutID.${P3_DATA_KEY}`;\n\n    const BS_NAME = 'dropdown';\n    const BS_DATA_KEY = 'bs.dropdown';\n    const BS_EVENT_KEY = `.${BS_DATA_KEY}`;\n    const BS_DATA_API_KEY = '.data-api';\n\n    const ENTER_KEY = 'Enter';\n    const ESCAPE_KEY = 'Escape';\n    const TAB_KEY = 'Tab';\n    const ARROW_UP_KEY = 'ArrowUp';\n    const ARROW_DOWN_KEY = 'ArrowDown';\n    const RIGHT_MOUSE_BUTTON = 2; // MouseEvent.button value for the secondary button, usually the right button\n\n    const BS_EVENT_HIDE = `hide${BS_EVENT_KEY}`;\n    const BS_EVENT_HIDDEN = `hidden${BS_EVENT_KEY}`;\n    const BS_EVENT_SHOW = `show${BS_EVENT_KEY}`;\n    const BS_EVENT_SHOWN = `shown${BS_EVENT_KEY}`;\n    const BS_EVENT_CLICK_DATA_API = `click${BS_EVENT_KEY}${BS_DATA_API_KEY}`;\n    const BS_EVENT_KEYDOWN_DATA_API = `keydown${BS_EVENT_KEY}${BS_DATA_API_KEY}`;\n    const BS_EVENT_KEYUP_DATA_API = `keyup${BS_EVENT_KEY}${BS_DATA_API_KEY}`;\n\n    const BS_CLASS_SHOW = 'show';\n    const BS_CLASS_DROPUP = 'dropup';\n    const BS_CLASS_DROPEND = 'dropend';\n    const BS_CLASS_DROPSTART = 'dropstart';\n    const BS_CLASS_DROPUP_CENTER = 'dropup-center';\n    const BS_CLASS_DROPDOWN_CENTER = 'dropdown-center';\n\n    const BS_SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"dropdown\"]:not(.disabled):not(:disabled)';\n    const BS_SELECTOR_DATA_TOGGLE_SHOWN = `${BS_SELECTOR_DATA_TOGGLE}.${BS_CLASS_SHOW}`;\n    const BS_SELECTOR_DROPDOWN = '.dropdown';\n    const BS_SELECTOR_DROPDOWN_SHOWN = `${BS_SELECTOR_DROPDOWN}.${BS_CLASS_SHOW}`;\n    const BS_CLASS_DROPDOWN_ITEM = 'dropdown-item';\n    const BS_CLASS_MENU = 'dropdown-menu';\n    const BS_SELECTOR_MENU = `.${BS_CLASS_MENU}`;\n    const BS_SELECTOR_MENU_SHOWN = `${BS_SELECTOR_MENU}.${BS_CLASS_SHOW}`;\n    const BS_CLASS_NAVBAR = 'navbar';\n    const BS_SELECTOR_NAVBAR = `.${BS_CLASS_NAVBAR}`;\n    const BS_CLASS_MENU_END = `${BS_CLASS_MENU}-end`;\n    const BS_SELECTOR_MENU_END = `${BS_SELECTOR_MENU}.${BS_CLASS_MENU_END}`;\n    const BS_SELECTOR_NAVBAR_NAV = '.navbar-nav';\n    const BS_SELECTOR_VISIBLE_ITEMS = `.dropdown-menu .${BS_CLASS_DROPDOWN_ITEM}:not(.disabled):not(:disabled)`;\n    const P3_SELECTOR_VISIBLE_ITEMS = `.${BS_CLASS_DROPDOWN_ITEM}:not(.disabled):not(:disabled)`;\n\n    // dropdown-menu-(sm|md|lg)-end\n    const menuEndRegex = new RegExp(`${BS_CLASS_MENU}(?:-[a-z]{2,3})?-end`);\n\n    const isRTL = document.documentElement.dir === 'rtl';\n    const isTouchDevice = 'ontouchstart' in window;\n\n    const BsDropdown = bootstrap.Dropdown;\n\n\n    /**\n     * Get the html document width\n     *\n     * @return {Number}\n     */\n    function getClientWidth() {\n        return Math.max(window.innerWidth, document.documentElement.clientWidth);\n    }\n\n    /**\n     * Get an Array of siblings of an HTMLElement\n     *\n     * @param {HTMLElement} element\n     * @param {string} selector\n     * @return {Array}\n     */\n    function getSiblings(element, selector = '*') {\n\n        const siblings = [];\n\n        if (element instanceof HTMLElement) {\n            const parent = element.parentElement;\n            if (parent instanceof HTMLElement) {\n                parent.querySelectorAll(`:scope > ${selector}`).forEach(function(child) {\n                    if (child !== element && child instanceof HTMLElement) {\n                        siblings.push(child);\n                    }\n                });\n            }\n        }\n\n        return siblings;\n    }\n\n    /**\n     * Check if element is an enabled dropdown toggler\n     *\n     * @param {HTMLElement} toggle\n     * @return {Boolean}\n     */\n    function isEnabledToggle(toggle) {\n\n        if (toggle && toggle instanceof HTMLElement) {\n            return (\n                toggle.getAttribute('data-bs-toggle') === 'dropdown'\n                && !toggle.disabled\n                && !toggle.classList.contains('disabled')\n            );\n        }\n\n        return false;\n    }\n\n    /**\n     * Helper function for BS_EVENT_SHOWN event handlers\n     *\n     * @param {Event} e\n     * @param {Number} breakpoint\n     * @param {Boolean} closeOthers\n     * @param {Boolean} stopPropagation\n     * @return {undefined}\n     */\n    function handleShownEvent(e, breakpoint, closeOthers, stopPropagation = false) {\n\n        const target = e.relatedTarget || e.target;\n\n        if (!isEnabledToggle(target)) {\n            return;\n        }\n\n        // If toggler is matched prevent bubbling up?\n        if (stopPropagation) {\n            e.stopPropagation();\n        }\n\n        const dropdown = target.closest(BS_SELECTOR_DROPDOWN);\n\n        if (dropdown instanceof HTMLElement) {\n            const clientWidth = getClientWidth();\n\n            dropdown.classList.add(BS_CLASS_SHOW);\n\n            setChildrenDropDirection(dropdown, clientWidth, breakpoint);\n\n            if (closeOthers || clientWidth >= breakpoint) {\n                closeOtherNavs(dropdown);\n                closeSiblingDropdowns(dropdown);\n            }\n        }\n\n        // MUST dispatch custom event (used to close external dropdowns)\n        target.dispatchEvent(new Event(P3_EVENT_SHOWN, P3_EVENT_OPTS));\n    }\n\n    /**\n     * Helper function for BS_EVENT_HIDDEN event handlers\n     *\n     * @param {Event} e\n     * @param {Boolean} stopPropagation\n     * @param {Boolean} dispatchCustomEvent Dispatch a custom event?\n     * @return {undefined}\n     */\n    function handleHiddenEvent(e, stopPropagation = false, dispatchCustomEvent = false) {\n\n        const target = e.relatedTarget || e.target;\n\n        if (!isEnabledToggle(target)) {\n            return;\n        }\n\n        // If it is a toggler prevent bubbling?\n        if (stopPropagation) {\n            e.stopPropagation();\n        }\n\n        const dropdown = target.parentElement.closest(BS_SELECTOR_DROPDOWN);\n        if (dropdown instanceof HTMLElement) {\n            dropdown.classList.remove(BS_CLASS_SHOW);\n            closeInnerDropdowns(dropdown);\n        }\n\n        // Dispatch custom event?\n        if (dispatchCustomEvent) {\n            target.dispatchEvent(new Event(P3_EVENT_HIDDEN, P3_EVENT_OPTS));\n        }\n    }\n\n    /**\n     *  Helper function for BS_EVENT_CLICK_DATA_API event handlers\n     *\n     * @param {Event} e\n     * @param {Boolean} hover\n     * @param {Number} timeout\n     * @param {Boolean} dispatchCustomEvent Dispatch a custom event?\n     * @return {undefined}\n     */\n    function handleClickDataApiEvent(e, hover, timeout, dispatchCustomEvent = false) {\n\n        const target = e.relatedTarget || e.target;\n\n        if (!isEnabledToggle(target)) {\n            return;\n        }\n\n        // If it is a toggler we MUST stop bubbling to prevent parent menu from\n        // being closed by the bootstrap handler\n        e.stopPropagation();\n\n        // Remove any running timer\n        if (hover && timeout > 0) {\n            const timeoutID = target.getAttribute(`data-${P3_DATA_TIMEOUT_ID}`);\n            if (timeoutID > 0) {\n                clearTimeout(timeoutID);\n            }\n        }\n\n        // Dispatch custom event?\n        if (dispatchCustomEvent) {\n            target.dispatchEvent(new MouseEvent(P3_EVENT_CLICK, e));\n        }\n    }\n\n    /**\n     * Close any dropdown not contained in this navbar\n     *\n     * @param {HTMLElement} navbar\n     * @return {undefined}\n     */\n    function closeExternalDropdowns(navbar) {\n\n        if (!(navbar instanceof HTMLElement)) {\n            return;\n        }\n\n        document.querySelectorAll(BS_SELECTOR_DATA_TOGGLE_SHOWN).forEach(function(toggleElement) {\n            if (!navbar.contains(toggleElement)) {\n                const toggle = BsDropdown.getOrCreateInstance(toggleElement);\n                if (toggle instanceof BsDropdown) {\n                    toggle.hide();\n                }\n            }\n        });\n    }\n\n    /**\n     * Hides all dropdowns inside the given container\n     *\n     * @param {HTMLElement|Array|NodeList} container\n     * @param {Event} event\n     * @param {boolean} [stopPropagation=true]\n     * @return {undefined}\n     */\n    function closeInnerDropdowns(container, event, stopPropagation = false) {\n\n        const containers = [];\n\n        if (container instanceof Array || container instanceof NodeList) {\n            container.forEach(function(c) {\n                if (c instanceof HTMLElement) {\n                    containers.push(c);\n                }\n            });\n        } else if (container instanceof HTMLElement) {\n            containers.push(container);\n        }\n\n        if (containers.length > 0) {\n            containers.forEach(function(container) {\n                container.querySelectorAll(BS_SELECTOR_DATA_TOGGLE_SHOWN).forEach(function(toggleElement) {\n                    const toggle = BsDropdown.getOrCreateInstance(toggleElement);\n                    if (toggle instanceof BsDropdown) {\n                        toggle.hide();\n                    }\n                });\n            });\n        }\n\n        if (event instanceof Event && stopPropagation === true) {\n            event.stopPropagation();\n        }\n    }\n\n    /**\n     * Close siblings nav menu-items\n     *\n     * @param {HTMLElement} dropdown\n     * @param {Event} event\n     * @param {Boolean} stopPropagation\n     * @return {undefined}\n     */\n    function closeSiblingDropdowns(dropdown, event, stopPropagation = false) {\n\n        getSiblings(dropdown, BS_SELECTOR_DROPDOWN).forEach(function(sibling) {\n            const toggleElement = sibling.querySelector(BS_SELECTOR_DATA_TOGGLE_SHOWN);\n            if (toggleElement) {\n                const toggle = BsDropdown.getOrCreateInstance(toggleElement);\n                if (toggle instanceof BsDropdown) {\n                    toggle.hide();\n                }\n            }\n        });\n    }\n\n    /**\n     * Close other navbar-nav in the same navbar\n     *\n     * @param {HTMLElement} dropdown\n     * @param {Event} event\n     * @param {Boolean} stopPropagation\n     * @return {undefined}\n     */\n    function closeOtherNavs(dropdown, event, stopPropagation = false) {\n\n        const otherNavs = document.querySelectorAll(`${BS_SELECTOR_NAVBAR} ${BS_SELECTOR_NAVBAR_NAV}`);\n        const currentNav = dropdown.parentElement.closest(BS_SELECTOR_NAVBAR_NAV);\n\n        otherNavs.forEach(function(otherNav) {\n            if (otherNav !== currentNav) {\n                closeInnerDropdowns(otherNav, event, stopPropagation);\n            }\n        });\n    }\n\n    /**\n     * Set the direction of a dropdown's children/submenu\n     *\n     * @param {HTMLElement} dropdown\n     * @param {Number} clientWidth\n     * @param {Number} breakpoint\n     * @return {undefined}\n     */\n    function setChildrenDropDirection(dropdown, clientWidth, breakpoint) {\n\n        const menu = dropdown.querySelector(`:scope > ${BS_SELECTOR_MENU}`);\n\n        if (!(menu instanceof HTMLElement)) {\n            return;\n        }\n\n        if (clientWidth < breakpoint) {\n            menu.querySelectorAll(BS_SELECTOR_DROPDOWN).forEach(function(child) {\n                child.classList.remove(BS_CLASS_DROPEND);\n                child.classList.remove(BS_CLASS_DROPSTART);\n            });\n            return;\n        }\n\n        const left = menu.getBoundingClientRect().left;\n        const right = left + menu.offsetWidth;\n\n        const isDropStart = dropdown.classList.contains(BS_CLASS_DROPSTART) || (\n            !dropdown.classList.contains(BS_CLASS_DROPEND)\n            && (menuEndRegex.test(menu.className))\n        );\n\n        menu.querySelectorAll(`:scope > ${BS_SELECTOR_DROPDOWN}`).forEach(function(menuItem) {\n\n            const submenu = menuItem.querySelector(`:scope > ${BS_SELECTOR_MENU}`);\n\n            if (!submenu) {\n                return;\n            }\n\n            submenu.style.visibility = 'hidden';\n            submenu.classList.add(BS_CLASS_SHOW);\n\n            const subwidth = submenu.offsetWidth;\n\n            submenu.classList.remove(BS_CLASS_SHOW);\n            submenu.style.visibility = null;\n\n            const classList = menuItem.classList;\n\n            if (isRTL) {\n                if (isDropStart) {\n                    if (right + subwidth > clientWidth) {\n                        classList.remove(BS_CLASS_DROPSTART);\n                        classList.add(BS_CLASS_DROPEND);\n                    } else {\n                        classList.remove(BS_CLASS_DROPEND);\n                        classList.add(BS_CLASS_DROPSTART);\n                    }\n                } else {\n                    if (left - subwidth < 0) {\n                        classList.remove(BS_CLASS_DROPEND);\n                        classList.add(BS_CLASS_DROPSTART);\n                    } else {\n                        classList.remove(BS_CLASS_DROPSTART);\n                        classList.add(BS_CLASS_DROPEND);\n                    }\n                }\n            } else {\n                if (isDropStart) {\n                    if (left - subwidth < 0) {\n                        classList.remove(BS_CLASS_DROPSTART);\n                        classList.add(BS_CLASS_DROPEND);\n                    } else {\n                        classList.remove(BS_CLASS_DROPEND);\n                        classList.add(BS_CLASS_DROPSTART);\n                    }\n                } else {\n                    if (right + subwidth > clientWidth) {\n                        classList.remove(BS_CLASS_DROPEND);\n                        classList.add(BS_CLASS_DROPSTART);\n                    } else {\n                        classList.remove(BS_CLASS_DROPSTART);\n                        classList.add(BS_CLASS_DROPEND);\n                    }\n                }\n            }\n        });\n    }\n\n    /**\n     * CLOSE MENUS AND REMOVE DROP-CLASSES ON OPT.breakpoint CROSSING\n     *\n     * @param {HTMLElement} navbar\n     * @param {Number} breakpoint\n     * @param {Number|undefined} previousWidth\n     * @return {undefined}\n     */\n    function handleBreakpointCrossing(navbar, breakpoint, previousWidth) {\n\n        const currentWidth = getClientWidth();\n\n        if (previousWidth < breakpoint && currentWidth >= breakpoint) {\n            closeInnerDropdowns(navbar);\n        } else if (previousWidth >= breakpoint && currentWidth < breakpoint) {\n            closeInnerDropdowns(navbar);\n            navbar.querySelectorAll(`.${BS_CLASS_DROPEND}, .${BS_CLASS_DROPEND}`).forEach(function(menuItem) {\n                menuItem.classList.remove(BS_CLASS_DROPSTART);\n                menuItem.classList.remove(BS_CLASS_DROPEND);\n            });\n        }\n\n        return currentWidth;\n    }\n\n    /**\n     * Move to next/previous element in a list or cycle through it\n     *\n     * @param {Array} list\n     * @param {HTMLElement} element\n     * @param {Boolean} shouldGetNext\n     * @param {Boolean} cycle\n     * @return {HTMLElement}\n     */\n    function getNextElement(list, element, shouldGetNext, cycle) {\n\n        const listLength = list.length;\n        let index = list.indexOf(element);\n\n        if (index === -1) {\n            return list[0];\n        }\n\n        index += shouldGetNext ? 1 : -1;\n\n        if (cycle) {\n            index = (index + listLength) % listLength;\n        }\n\n        return list[Math.max(0, Math.min(index, listLength - 1))];\n    }\n\n    /**\n     * Handler function for ENTER | UP | DOWN keypress\n     *\n     * This is used inside a capturing handler\n     *\n     * @param {Event} e\n     * @param {HTMLElement} navbar\n     * @param {Boolean} dispatchCustomEvent Dispatch a custom event?\n     * @return {undefined}\n     */\n    function handleKeydown(e, navbar, dispatchCustomEvent) {\n\n        // Let bootstrap handlers deal with ESCAPE and TAB\n        if (!e.key || e.key === ESCAPE_KEY || e.key === TAB_KEY) {\n            return;\n        }\n\n        // ENTER | UP | DOWN keypress are handled\n        const isValidKeyEvent = [ENTER_KEY, ARROW_UP_KEY, ARROW_DOWN_KEY].includes(e.key);\n        if (!isValidKeyEvent) {\n            return;\n        }\n\n        const target = e.target;\n        // Let bootstrap dropdown handle top-level (nav-link) dropdown-items and\n        // other elements such as form inputs\n        if (!target || !target.classList.contains(BS_CLASS_DROPDOWN_ITEM)) {\n            return;\n        }\n\n        // DO NOT HANDLE events for targets outside our navbar\n        if (navbar instanceof HTMLElement && !navbar.contains(target)) {\n            return;\n        }\n\n        // STOP DOWNWARD propagation from here\n        e.stopPropagation();\n\n        if (e.key === ENTER_KEY) {\n            if (target.matches(BS_SELECTOR_DATA_TOGGLE)) {\n                // Only prevent default behaviour on dropdown togglers\n                e.preventDefault();\n                target.click();\n                // Apply focus on 1st submenu item if any\n                const subItem = target.parentElement.querySelector(`:scope ${BS_SELECTOR_VISIBLE_ITEMS}`);\n                if (subItem) {\n                    subItem.focus();\n                }\n            }\n        } else {\n            const menu = target.closest(BS_SELECTOR_MENU);\n            if (menu instanceof HTMLElement) {\n                const items = [].concat(\n                    ...menu.querySelectorAll(`:scope > li > ${P3_SELECTOR_VISIBLE_ITEMS}`)\n                );\n\n                const isNavKeyEvent = e.key === ARROW_DOWN_KEY || e.key === ARROW_UP_KEY;\n                if (isNavKeyEvent) {\n                    const nextItem = getNextElement(items, target, e.key !== ARROW_UP_KEY, true);\n                    if (nextItem) {\n                        nextItem.focus();\n                        closeSiblingDropdowns(nextItem.parentElement);\n                    }\n                }\n            }\n        }\n\n        // Dispatch custom event?\n        if (dispatchCustomEvent) {\n            target.dispatchEvent(new KeyboardEvent(P3_EVENT_KEYDOWN, e));\n        }\n    }\n\n    /**\n     * SHOW/HIDE ON HOVER\n     *\n     * @param {HTMLElement} navbar\n     * @param {Number} breakpoint\n     * @param {Number} timeout\n     * @return {undefined}\n     */\n    function activateHover(navbar, breakpoint, timeout) {\n\n        const dropdowns = navbar.querySelectorAll(BS_SELECTOR_DROPDOWN);\n\n        dropdowns.forEach(function(menuItem) {\n            menuItem.addEventListener('mouseenter', function(e) {\n                handleMouseEnter(menuItem, breakpoint, timeout);\n            });\n            menuItem.addEventListener('mouseleave', function(e) {\n                handleMouseLeave(menuItem, breakpoint, timeout);\n            });\n        });\n    }\n\n    /**\n     * Helper method for mouseenter event handler\n     *\n     * @param {HTMLElement} menuItem\n     * @param {Number} breakpoint\n     * @param {Number} timeout\n     * @return {undefined}\n     */\n    function handleMouseEnter(menuItem, breakpoint, timeout) {\n\n        if (getClientWidth() < breakpoint) {\n            return;\n        }\n\n        const toggleElement = menuItem.querySelector(BS_SELECTOR_DATA_TOGGLE);\n\n        if (toggleElement instanceof HTMLElement) {\n            if (timeout > 0) {\n                // Clear the previously registered timeout, if any\n                const timeoutID = toggleElement.getAttribute(`data-${P3_DATA_TIMEOUT_ID}`);\n                if (timeoutID > 0) {\n                    clearTimeout(timeoutID);\n                }\n            }\n            if (!toggleElement.classList.contains(BS_CLASS_SHOW)) {\n                const toggle = BsDropdown.getOrCreateInstance(toggleElement);\n                if (toggle instanceof BsDropdown) {\n                    toggle.show();\n                }\n            }\n        }\n    }\n\n    /**\n     * Helper method for mouseleave event handler\n     *\n     * @param {HTMLElement} menuItem\n     * @param {Number} breakpoint\n     * @param {Number} timeout\n     * @return {undefined}\n     */\n    function handleMouseLeave(menuItem, breakpoint, timeout) {\n\n        if (getClientWidth() < breakpoint) {\n            return;\n        }\n\n        const toggleElement = menuItem.querySelector(BS_SELECTOR_DATA_TOGGLE);\n\n        if (toggleElement instanceof HTMLElement) {\n            // Clear the previously registered timeout, if any\n            if (toggleElement.classList.contains(BS_CLASS_SHOW) && timeout > 0) {\n                const timeoutID = toggleElement.getAttribute(`data-${P3_DATA_TIMEOUT_ID}`);\n                if (timeoutID > 0) {\n                    clearTimeout(timeoutID);\n                }\n            }\n            // Add a timeout for delaying hide events so that the mouse leaving\n            // the control will not immediatly close the submenu\n            toggleElement.setAttribute(`data-${P3_DATA_TIMEOUT_ID}`, setTimeout(\n                function() {\n                    if (toggleElement.classList.contains(BS_CLASS_SHOW)) {\n                        const toggle = BsDropdown.getOrCreateInstance(toggleElement);\n                        if (toggle instanceof BsDropdown) {\n                            toggle.hide();\n                        }\n                    }\n                },\n                timeout\n            ));\n        }\n    }\n\n    /**\n     * Determine navbar expand breakpoint form expand-(sm|md|lg|xl) class if present\n     *\n     * @param {HTMLElement} navbar\n     * @return {integer|null}\n     */\n    function getExpandBreakpoint(navbar) {\n        for (const nc of navbar.classList) {\n            const rootStyle = window.getComputedStyle(document.documentElement);\n            const breakpoint = parseInt(rootStyle.getPropertyValue(`--p3-bs-${nc}`));\n            if (Number.isInteger(breakpoint)) {\n                return breakpoint;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * p3bsNavbar main function\n     *\n     * @param {string} selector A valid string selector, an HTMLElement, an\n     *      Array of elements or a NodeList\n     * @param {Object} options\n     * @return {undefined}\n     */\n    const p3bsNavbar = function(selector, options) {\n\n        const OPTIONS = Object.assign({}, p3bsNavbar.defaults, options);\n\n        let navbars = [];\n\n        if (typeof(selector) === 'string') {\n            navbars = document.querySelectorAll(selector);\n        } else if (selector instanceof HTMLElement) {\n            navbars = [selector];\n        } else if (selector instanceof Array || selector instanceof NodeList) {\n            selector.forEach(function(element) {\n                if (element instanceof HTMLElement) {\n                    navbars.push(element);\n                }\n            });\n        }\n\n        navbars.forEach(function(navbar) {\n            // Make a copy to preserve the original OPTIONS object\n            const OPT = Object.assign({}, OPTIONS);\n\n            // Determine navbar expand breakpoint\n            const breakpoint = getExpandBreakpoint(navbar);\n            if (breakpoint > 0) {\n                OPT.breakpoint = breakpoint;\n            }\n\n            if (OPT.customEvents) {\n                // Dispatch custom event on BS_EVENT_SHOW\n                navbar.addEventListener(BS_EVENT_SHOW, function(e) {\n                    const target = e.relatedTarget || e.target;\n                    target.dispatchEvent(new Event(P3_EVENT_SHOW, P3_EVENT_OPTS));\n                });\n\n                // Dispatch custom event on BS_EVENT_HIDE\n                navbar.addEventListener(BS_EVENT_HIDE, function(e) {\n                    const target = e.relatedTarget || e.target;\n                    target.dispatchEvent(new Event(P3_EVENT_HIDE, P3_EVENT_OPTS));\n                });\n            }\n\n            // handle BS_EVENT_SHOWN events\n            navbar.addEventListener(BS_EVENT_SHOWN, function(e) {\n                handleShownEvent(e, OPT.breakpoint, OPT.closeOthers, OPT.stopPropagation);\n            });\n\n            // handle BS_EVENT_HIDDEN events\n            navbar.addEventListener(BS_EVENT_HIDDEN, function(e) {\n                handleHiddenEvent(e, OPT.stopPropagation, OPT.customEvents);\n            });\n\n            // handle CLICK events (BS_EVENT_CLICK_DATA_API not used)\n            navbar.addEventListener('click', function(e) {\n                handleClickDataApiEvent(e, OPT.hover, OPT.timeout, OPT.customEvents);\n            });\n\n            // handle KEYDOWN events (BS_EVENT_KEYDOWN_DATA_API not used)\n            document.addEventListener('keydown', function(e) {\n                handleKeydown(e, navbar, OPT.customEvents);\n            }, true); // CAPTURE events before document where bs listeners are registered\n\n            // Close menus on OPT.breakpoint crossing\n            let previousWidth = getClientWidth();\n            window.addEventListener('resize', function(e) {\n                previousWidth = handleBreakpointCrossing(navbar, breakpoint, previousWidth);\n            });\n\n            // Activate hover dropdown\n            if (OPT.hover && !isTouchDevice) {\n                activateHover(navbar, OPT.breakpoint, OPT.timeout);\n            }\n\n            // Close external dropdowns on showing navbar dropdowns\n            navbar.addEventListener(P3_EVENT_SHOWN, function(e) {\n                closeExternalDropdowns(navbar);\n                if (OPT.stopPropagation) {\n                    e.stopPropagation(); // No need to propagate outside the navbar\n                }\n            });\n        });\n    };\n\n    p3bsNavbar.defaults = {\n        breakpoint: 768,\n        hover: false,\n        timeout: 250,\n        closeOthers: false,\n        stopPropagation: false,\n        customEvents: false,\n    };\n\n    // Define the vendor namespace and library namespace and if not already set\n    window.pine3ree = window.pine3ree || {};\n    window.pine3ree.bs = window.pine3ree.bs || {};\n\n    // Assign the main function to the right namespace\n    window.pine3ree.bs.navbar = p3bsNavbar;\n    // Assign the main function to the window object using the same name for the\n    // jQuery plugin\n    window.p3bsNavbar = p3bsNavbar;\n\n    // Add jQuery plugin if jQuery is loaded\n    if (typeof($) === 'function' && $().fn === $.jquery) {\n        $.fn.p3bsNavbar = function(options) {\n            const opts = $.extend($.fn.p3bsNavbar.defaults, options);\n            p3bsNavbar(this.get(), opts);\n        };\n\n        $.fn.p3bsNavbar.defaults = p3bsNavbar.defaults;\n    }\n})(window.bootstrap, window.jQuery);\n"],"mappings":"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"}