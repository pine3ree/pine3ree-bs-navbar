{"version":3,"file":"pine3ree.bs.navbar.js","names":["window","bootstrap","Dropdown","Error","$","P3_NAME","P3_DATA_KEY","P3_EVENT_KEY","concat","P3_EVENT_OPTS","bubbles","cancelable","P3_EVENT_CLICK","P3_EVENT_HIDE","P3_EVENT_HIDDEN","P3_EVENT_SHOW","P3_EVENT_SHOWN","P3_EVENT_KEYDOWN","P3_EVENT_KEYUP","P3_DATA_TIMEOUT_ID","BS_NAME","BS_DATA_KEY","BS_EVENT_KEY","BS_DATA_API_KEY","ENTER_KEY","ESCAPE_KEY","TAB_KEY","ARROW_UP_KEY","ARROW_DOWN_KEY","RIGHT_MOUSE_BUTTON","BS_EVENT_HIDE","BS_EVENT_HIDDEN","BS_EVENT_SHOW","BS_EVENT_SHOWN","BS_EVENT_CLICK_DATA_API","BS_EVENT_KEYDOWN_DATA_API","BS_EVENT_KEYUP_DATA_API","BS_CLASS_SHOW","BS_CLASS_DROPUP","BS_CLASS_DROPEND","BS_CLASS_DROPSTART","BS_CLASS_DROPUP_CENTER","BS_CLASS_DROPDOWN_CENTER","BS_SELECTOR_DATA_TOGGLE","BS_SELECTOR_DATA_TOGGLE_SHOWN","BS_SELECTOR_DROPDOWN","BS_SELECTOR_DROPDOWN_SHOWN","BS_CLASS_DROPDOWN_ITEM","BS_CLASS_MENU","BS_SELECTOR_MENU","BS_SELECTOR_MENU_SHOWN","BS_CLASS_NAVBAR","BS_SELECTOR_NAVBAR","BS_CLASS_MENU_END","BS_SELECTOR_MENU_END","BS_SELECTOR_NAVBAR_NAV","BS_SELECTOR_VISIBLE_ITEMS","P3_SELECTOR_VISIBLE_ITEMS","menuEndRegex","RegExp","isRTL","document","documentElement","dir","isTouchDevice","BsDropdown","getClientWidth","Math","max","innerWidth","clientWidth","getSiblings","element","selector","arguments","length","undefined","siblings","HTMLElement","parent","parentElement","querySelectorAll","forEach","child","push","isEnabledToggle","toggle","getAttribute","disabled","classList","contains","handleShownEvent","e","breakpoint","closeOthers","stopPropagation","target","relatedTarget","dropdown","closest","add","setChildrenDropDirection","closeOtherNavs","closeSiblingDropdowns","dispatchEvent","Event","handleHiddenEvent","dispatchCustomEvent","remove","closeInnerDropdowns","handleClickDataApiEvent","hover","timeout","timeoutID","clearTimeout","MouseEvent","closeExternalDropdowns","navbar","toggleElement","getOrCreateInstance","hide","container","event","containers","Array","NodeList","c","sibling","querySelector","otherNavs","currentNav","otherNav","menu","left","getBoundingClientRect","right","offsetWidth","isDropStart","test","className","menuItem","submenu","style","visibility","subwidth","handleBreakpointCrossing","previousWidth","currentWidth","getNextElement","list","shouldGetNext","cycle","listLength","index","indexOf","min","handleKeydown","key","isValidKeyEvent","includes","matches","preventDefault","click","subItem","focus","items","isNavKeyEvent","nextItem","KeyboardEvent","activateHover","dropdowns","addEventListener","handleMouseEnter","handleMouseLeave","show","setAttribute","setTimeout","getExpandBreakpoint","nc","rootStyle","getComputedStyle","parseInt","getPropertyValue","Number","isInteger","p3bsNavbar","options","OPTIONS","Object","assign","defaults","navbars","OPT","customEvents","pine3ree","bs","fn","jquery","opts","extend","get","jQuery"],"sources":["pine3ree.bs.navbar.js"],"sourcesContent":["/*!\n * @package pine3ree-bs-navbar (https://github.com/pine3ree/pine3ree-bs-navbar/)\n * @description A multilevel-menu navbar for bootstrap 5.3.x\n * @author pine3ree https://github.com/pine3ree\n * @copyright Copyright 2023-today pine3ree\n * @license Licensed under BSD-3 Clear License (https://github.com/pine3ree/pine3ree-bs-navbar/blob/master/LICENSE)\n */\n\n/* jslint browser:true */\n/* global document, window */\n\n'use strict';\n\n// Check bootstrap library\nif (!window.bootstrap || !window.bootstrap.Dropdown) {\n    throw new Error('bootstrap.Dropdown library was not found');\n}\n\n(function(bootstrap, $) {\n\n    const P3_NAME = 'p3bsNavbar';\n\n    const P3_DATA_KEY = 'p3.navbar.dropdown';\n    const P3_EVENT_KEY = `.${P3_DATA_KEY}`;\n    const P3_EVENT_OPTS = { bubbles: true, cancelable: true };\n    const P3_EVENT_CLICK = `click${P3_EVENT_KEY}`;\n    const P3_EVENT_HIDE = `hide${P3_EVENT_KEY}`;\n    const P3_EVENT_HIDDEN = `hidden${P3_EVENT_KEY}`;\n    const P3_EVENT_SHOW = `show${P3_EVENT_KEY}`;\n    const P3_EVENT_SHOWN = `shown${P3_EVENT_KEY}`;\n    const P3_EVENT_KEYDOWN = `keydown${P3_EVENT_KEY}`;\n    const P3_EVENT_KEYUP = `keyup${P3_EVENT_KEY}`;\n    const P3_DATA_TIMEOUT_ID = `timeoutID.${P3_DATA_KEY}`;\n\n    const BS_NAME = 'dropdown';\n    const BS_DATA_KEY = 'bs.dropdown';\n    const BS_EVENT_KEY = `.${BS_DATA_KEY}`;\n    const BS_DATA_API_KEY = '.data-api';\n\n    const ENTER_KEY = 'Enter';\n    const ESCAPE_KEY = 'Escape';\n    const TAB_KEY = 'Tab';\n    const ARROW_UP_KEY = 'ArrowUp';\n    const ARROW_DOWN_KEY = 'ArrowDown';\n    const RIGHT_MOUSE_BUTTON = 2; // MouseEvent.button value for the secondary button, usually the right button\n\n    const BS_EVENT_HIDE = `hide${BS_EVENT_KEY}`;\n    const BS_EVENT_HIDDEN = `hidden${BS_EVENT_KEY}`;\n    const BS_EVENT_SHOW = `show${BS_EVENT_KEY}`;\n    const BS_EVENT_SHOWN = `shown${BS_EVENT_KEY}`;\n    const BS_EVENT_CLICK_DATA_API = `click${BS_EVENT_KEY}${BS_DATA_API_KEY}`;\n    const BS_EVENT_KEYDOWN_DATA_API = `keydown${BS_EVENT_KEY}${BS_DATA_API_KEY}`;\n    const BS_EVENT_KEYUP_DATA_API = `keyup${BS_EVENT_KEY}${BS_DATA_API_KEY}`;\n\n    const BS_CLASS_SHOW = 'show';\n    const BS_CLASS_DROPUP = 'dropup';\n    const BS_CLASS_DROPEND = 'dropend';\n    const BS_CLASS_DROPSTART = 'dropstart';\n    const BS_CLASS_DROPUP_CENTER = 'dropup-center';\n    const BS_CLASS_DROPDOWN_CENTER = 'dropdown-center';\n\n    const BS_SELECTOR_DATA_TOGGLE = '[data-bs-toggle=\"dropdown\"]:not(.disabled):not(:disabled)';\n    const BS_SELECTOR_DATA_TOGGLE_SHOWN = `${BS_SELECTOR_DATA_TOGGLE}.${BS_CLASS_SHOW}`;\n    const BS_SELECTOR_DROPDOWN = '.dropdown';\n    const BS_SELECTOR_DROPDOWN_SHOWN = `${BS_SELECTOR_DROPDOWN}.${BS_CLASS_SHOW}`;\n    const BS_CLASS_DROPDOWN_ITEM = 'dropdown-item';\n    const BS_CLASS_MENU = 'dropdown-menu';\n    const BS_SELECTOR_MENU = `.${BS_CLASS_MENU}`;\n    const BS_SELECTOR_MENU_SHOWN = `${BS_SELECTOR_MENU}.${BS_CLASS_SHOW}`;\n    const BS_CLASS_NAVBAR = 'navbar';\n    const BS_SELECTOR_NAVBAR = `.${BS_CLASS_NAVBAR}`;\n    const BS_CLASS_MENU_END = `${BS_CLASS_MENU}-end`;\n    const BS_SELECTOR_MENU_END = `${BS_SELECTOR_MENU}.${BS_CLASS_MENU_END}`;\n    const BS_SELECTOR_NAVBAR_NAV = '.navbar-nav';\n    const BS_SELECTOR_VISIBLE_ITEMS = `.dropdown-menu .${BS_CLASS_DROPDOWN_ITEM}:not(.disabled):not(:disabled)`;\n    const P3_SELECTOR_VISIBLE_ITEMS = `.${BS_CLASS_DROPDOWN_ITEM}:not(.disabled):not(:disabled)`;\n\n    // dropdown-menu-(sm|md|lg)-end\n    const menuEndRegex = new RegExp(`${BS_CLASS_MENU}(?:-[a-z]{2,3})?-end`);\n\n    const isRTL = document.documentElement.dir === 'rtl';\n    const isTouchDevice = 'ontouchstart' in window;\n\n    const BsDropdown = bootstrap.Dropdown;\n\n\n    /**\n     * Get the html document width\n     *\n     * @return {Number}\n     */\n    function getClientWidth() {\n        return Math.max(window.innerWidth, document.documentElement.clientWidth);\n    }\n\n    /**\n     * Get an Array of siblings of an HTMLElement\n     *\n     * @param {HTMLElement} element\n     * @param {string} selector\n     * @return {Array}\n     */\n    function getSiblings(element, selector = '*') {\n\n        const siblings = [];\n\n        if (element instanceof HTMLElement) {\n            const parent = element.parentElement;\n            if (parent instanceof HTMLElement) {\n                parent.querySelectorAll(`:scope > ${selector}`).forEach(function(child) {\n                    if (child !== element && child instanceof HTMLElement) {\n                        siblings.push(child);\n                    }\n                });\n            }\n        }\n\n        return siblings;\n    }\n\n    /**\n     * Check if element is an enabled dropdown toggler\n     *\n     * @param {HTMLElement} toggle\n     * @return {Boolean}\n     */\n    function isEnabledToggle(toggle) {\n\n        if (toggle && toggle instanceof HTMLElement) {\n            return (\n                toggle.getAttribute('data-bs-toggle') === 'dropdown'\n                && !toggle.disabled\n                && !toggle.classList.contains('disabled')\n            );\n        }\n\n        return false;\n    }\n\n    /**\n     * Helper function for BS_EVENT_SHOWN event handlers\n     *\n     * @param {Event} e\n     * @param {Number} breakpoint\n     * @param {Boolean} closeOthers\n     * @param {Boolean} stopPropagation\n     * @return {undefined}\n     */\n    function handleShownEvent(e, breakpoint, closeOthers, stopPropagation = false) {\n\n        const target = e.relatedTarget || e.target;\n\n        if (!isEnabledToggle(target)) {\n            return;\n        }\n\n        // If toggler is matched prevent bubbling up?\n        if (stopPropagation) {\n            e.stopPropagation();\n        }\n\n        const dropdown = target.closest(BS_SELECTOR_DROPDOWN);\n\n        if (dropdown instanceof HTMLElement) {\n            const clientWidth = getClientWidth();\n\n            dropdown.classList.add(BS_CLASS_SHOW);\n\n            setChildrenDropDirection(dropdown, clientWidth, breakpoint);\n\n            if (closeOthers || clientWidth >= breakpoint) {\n                closeOtherNavs(dropdown);\n                closeSiblingDropdowns(dropdown);\n            }\n        }\n\n        // MUST dispatch custom event (used to close external dropdowns)\n        target.dispatchEvent(new Event(P3_EVENT_SHOWN, P3_EVENT_OPTS));\n    }\n\n    /**\n     * Helper function for BS_EVENT_HIDDEN event handlers\n     *\n     * @param {Event} e\n     * @param {Boolean} stopPropagation\n     * @param {Boolean} dispatchCustomEvent Dispatch a custom event?\n     * @return {undefined}\n     */\n    function handleHiddenEvent(e, stopPropagation = false, dispatchCustomEvent = false) {\n\n        const target = e.relatedTarget || e.target;\n\n        if (!isEnabledToggle(target)) {\n            return;\n        }\n\n        // If it is a toggler prevent bubbling?\n        if (stopPropagation) {\n            e.stopPropagation();\n        }\n\n        const dropdown = target.parentElement.closest(BS_SELECTOR_DROPDOWN);\n        if (dropdown instanceof HTMLElement) {\n            dropdown.classList.remove(BS_CLASS_SHOW);\n            closeInnerDropdowns(dropdown);\n        }\n\n        // Dispatch custom event?\n        if (dispatchCustomEvent) {\n            target.dispatchEvent(new Event(P3_EVENT_HIDDEN, P3_EVENT_OPTS));\n        }\n    }\n\n    /**\n     *  Helper function for BS_EVENT_CLICK_DATA_API event handlers\n     *\n     * @param {Event} e\n     * @param {Boolean} hover\n     * @param {Number} timeout\n     * @param {Boolean} dispatchCustomEvent Dispatch a custom event?\n     * @return {undefined}\n     */\n    function handleClickDataApiEvent(e, hover, timeout, dispatchCustomEvent = false) {\n\n        const target = e.relatedTarget || e.target;\n\n        if (!isEnabledToggle(target)) {\n            return;\n        }\n\n        // If it is a toggler we MUST stop bubbling to prevent parent menu from\n        // being closed by the bootstrap handler\n        e.stopPropagation();\n\n        // Remove any running timer\n        if (hover && timeout > 0) {\n            const timeoutID = target.getAttribute(`data-${P3_DATA_TIMEOUT_ID}`);\n            if (timeoutID > 0) {\n                clearTimeout(timeoutID);\n            }\n        }\n\n        // Dispatch custom event?\n        if (dispatchCustomEvent) {\n            target.dispatchEvent(new MouseEvent(P3_EVENT_CLICK, e));\n        }\n    }\n\n    /**\n     * Close any dropdown not contained in this navbar\n     *\n     * @param {HTMLElement} navbar\n     * @return {undefined}\n     */\n    function closeExternalDropdowns(navbar) {\n\n        if (!(navbar instanceof HTMLElement)) {\n            return;\n        }\n\n        document.querySelectorAll(BS_SELECTOR_DATA_TOGGLE_SHOWN).forEach(function(toggleElement) {\n            if (!navbar.contains(toggleElement)) {\n                const toggle = BsDropdown.getOrCreateInstance(toggleElement);\n                if (toggle instanceof BsDropdown) {\n                    toggle.hide();\n                }\n            }\n        });\n    }\n\n    /**\n     * Hides all dropdowns inside the given container\n     *\n     * @param {HTMLElement|Array|NodeList} container\n     * @param {Event} event\n     * @param {boolean} [stopPropagation=true]\n     * @return {undefined}\n     */\n    function closeInnerDropdowns(container, event, stopPropagation = false) {\n\n        const containers = [];\n\n        if (container instanceof Array || container instanceof NodeList) {\n            container.forEach(function(c) {\n                if (c instanceof HTMLElement) {\n                    containers.push(c);\n                }\n            });\n        } else if (container instanceof HTMLElement) {\n            containers.push(container);\n        }\n\n        if (containers.length > 0) {\n            containers.forEach(function(container) {\n                container.querySelectorAll(BS_SELECTOR_DATA_TOGGLE_SHOWN).forEach(function(toggleElement) {\n                    const toggle = BsDropdown.getOrCreateInstance(toggleElement);\n                    if (toggle instanceof BsDropdown) {\n                        toggle.hide();\n                    }\n                });\n            });\n        }\n\n        if (event instanceof Event && stopPropagation === true) {\n            event.stopPropagation();\n        }\n    }\n\n    /**\n     * Close siblings nav menu-items\n     *\n     * @param {HTMLElement} dropdown\n     * @param {Event} event\n     * @param {Boolean} stopPropagation\n     * @return {undefined}\n     */\n    function closeSiblingDropdowns(dropdown, event, stopPropagation = false) {\n\n        getSiblings(dropdown, BS_SELECTOR_DROPDOWN).forEach(function(sibling) {\n            const toggleElement = sibling.querySelector(BS_SELECTOR_DATA_TOGGLE_SHOWN);\n            if (toggleElement) {\n                const toggle = BsDropdown.getOrCreateInstance(toggleElement);\n                if (toggle instanceof BsDropdown) {\n                    toggle.hide();\n                }\n            }\n        });\n    }\n\n    /**\n     * Close other navbar-nav in the same navbar\n     *\n     * @param {HTMLElement} dropdown\n     * @param {Event} event\n     * @param {Boolean} stopPropagation\n     * @return {undefined}\n     */\n    function closeOtherNavs(dropdown, event, stopPropagation = false) {\n\n        const otherNavs = document.querySelectorAll(`${BS_SELECTOR_NAVBAR} ${BS_SELECTOR_NAVBAR_NAV}`);\n        const currentNav = dropdown.parentElement.closest(BS_SELECTOR_NAVBAR_NAV);\n\n        otherNavs.forEach(function(otherNav) {\n            if (otherNav !== currentNav) {\n                closeInnerDropdowns(otherNav, event, stopPropagation);\n            }\n        });\n    }\n\n    /**\n     * Set the direction of a dropdown's children/submenu\n     *\n     * @param {HTMLElement} dropdown\n     * @param {Number} clientWidth\n     * @param {Number} breakpoint\n     * @return {undefined}\n     */\n    function setChildrenDropDirection(dropdown, clientWidth, breakpoint) {\n\n        const menu = dropdown.querySelector(`:scope > ${BS_SELECTOR_MENU}`);\n\n        if (!(menu instanceof HTMLElement)) {\n            return;\n        }\n\n        if (clientWidth < breakpoint) {\n            menu.querySelectorAll(BS_SELECTOR_DROPDOWN).forEach(function(child) {\n                child.classList.remove(BS_CLASS_DROPEND);\n                child.classList.remove(BS_CLASS_DROPSTART);\n            });\n            return;\n        }\n\n        const left = menu.getBoundingClientRect().left;\n        const right = left + menu.offsetWidth;\n\n        const isDropStart = dropdown.classList.contains(BS_CLASS_DROPSTART) || (\n            !dropdown.classList.contains(BS_CLASS_DROPEND)\n            && (menuEndRegex.test(menu.className))\n        );\n\n        menu.querySelectorAll(`:scope > ${BS_SELECTOR_DROPDOWN}`).forEach(function(menuItem) {\n\n            const submenu = menuItem.querySelector(`:scope > ${BS_SELECTOR_MENU}`);\n\n            if (!submenu) {\n                return;\n            }\n\n            submenu.style.visibility = 'hidden';\n            submenu.classList.add(BS_CLASS_SHOW);\n\n            const subwidth = submenu.offsetWidth;\n\n            submenu.classList.remove(BS_CLASS_SHOW);\n            submenu.style.visibility = null;\n\n            const classList = menuItem.classList;\n\n            if (isRTL) {\n                if (isDropStart) {\n                    if (right + subwidth > clientWidth) {\n                        classList.remove(BS_CLASS_DROPSTART);\n                        classList.add(BS_CLASS_DROPEND);\n                    } else {\n                        classList.remove(BS_CLASS_DROPEND);\n                        classList.add(BS_CLASS_DROPSTART);\n                    }\n                } else {\n                    if (left - subwidth < 0) {\n                        classList.remove(BS_CLASS_DROPEND);\n                        classList.add(BS_CLASS_DROPSTART);\n                    } else {\n                        classList.remove(BS_CLASS_DROPSTART);\n                        classList.add(BS_CLASS_DROPEND);\n                    }\n                }\n            } else {\n                if (isDropStart) {\n                    if (left - subwidth < 0) {\n                        classList.remove(BS_CLASS_DROPSTART);\n                        classList.add(BS_CLASS_DROPEND);\n                    } else {\n                        classList.remove(BS_CLASS_DROPEND);\n                        classList.add(BS_CLASS_DROPSTART);\n                    }\n                } else {\n                    if (right + subwidth > clientWidth) {\n                        classList.remove(BS_CLASS_DROPEND);\n                        classList.add(BS_CLASS_DROPSTART);\n                    } else {\n                        classList.remove(BS_CLASS_DROPSTART);\n                        classList.add(BS_CLASS_DROPEND);\n                    }\n                }\n            }\n        });\n    }\n\n    /**\n     * CLOSE MENUS AND REMOVE DROP-CLASSES ON OPT.breakpoint CROSSING\n     *\n     * @param {HTMLElement} navbar\n     * @param {Number} breakpoint\n     * @param {Number|undefined} previousWidth\n     * @return {undefined}\n     */\n    function handleBreakpointCrossing(navbar, breakpoint, previousWidth) {\n\n        const currentWidth = getClientWidth();\n\n        if (previousWidth < breakpoint && currentWidth >= breakpoint) {\n            closeInnerDropdowns(navbar);\n        } else if (previousWidth >= breakpoint && currentWidth < breakpoint) {\n            closeInnerDropdowns(navbar);\n            navbar.querySelectorAll(`.${BS_CLASS_DROPEND}, .${BS_CLASS_DROPEND}`).forEach(function(menuItem) {\n                menuItem.classList.remove(BS_CLASS_DROPSTART);\n                menuItem.classList.remove(BS_CLASS_DROPEND);\n            });\n        }\n\n        return currentWidth;\n    }\n\n    /**\n     * Move to next/previous element in a list or cycle through it\n     *\n     * @param {Array} list\n     * @param {HTMLElement} element\n     * @param {Boolean} shouldGetNext\n     * @param {Boolean} cycle\n     * @return {HTMLElement}\n     */\n    function getNextElement(list, element, shouldGetNext, cycle) {\n\n        const listLength = list.length;\n        let index = list.indexOf(element);\n\n        if (index === -1) {\n            return list[0];\n        }\n\n        index += shouldGetNext ? 1 : -1;\n\n        if (cycle) {\n            index = (index + listLength) % listLength;\n        }\n\n        return list[Math.max(0, Math.min(index, listLength - 1))];\n    }\n\n    /**\n     * Handler function for ENTER | UP | DOWN keypress\n     *\n     * This is used inside a capturing handler\n     *\n     * @param {Event} e\n     * @param {HTMLElement} navbar\n     * @param {Boolean} dispatchCustomEvent Dispatch a custom event?\n     * @return {undefined}\n     */\n    function handleKeydown(e, navbar, dispatchCustomEvent) {\n\n        // Let bootstrap handlers deal with ESCAPE and TAB\n        if (!e.key || e.key === ESCAPE_KEY || e.key === TAB_KEY) {\n            return;\n        }\n\n        // ENTER | UP | DOWN keypress are handled\n        const isValidKeyEvent = [ENTER_KEY, ARROW_UP_KEY, ARROW_DOWN_KEY].includes(e.key);\n        if (!isValidKeyEvent) {\n            return;\n        }\n\n        const target = e.target;\n        // Let bootstrap dropdown handle top-level (nav-link) dropdown-items and\n        // other elements such as form inputs\n        if (!target || !target.classList.contains(BS_CLASS_DROPDOWN_ITEM)) {\n            return;\n        }\n\n        // DO NOT HANDLE events for targets outside our navbar\n        if (navbar instanceof HTMLElement && !navbar.contains(target)) {\n            return;\n        }\n\n        // STOP DOWNWARD propagation from here\n        e.stopPropagation();\n\n        if (e.key === ENTER_KEY) {\n            if (target.matches(BS_SELECTOR_DATA_TOGGLE)) {\n                // Only prevent default behaviour on dropdown togglers\n                e.preventDefault();\n                target.click();\n                // Apply focus on 1st submenu item if any\n                const subItem = target.parentElement.querySelector(`:scope ${BS_SELECTOR_VISIBLE_ITEMS}`);\n                if (subItem) {\n                    subItem.focus();\n                }\n            }\n        } else {\n            const menu = target.closest(BS_SELECTOR_MENU);\n            if (menu instanceof HTMLElement) {\n                const items = [].concat(\n                    ...menu.querySelectorAll(`:scope > li > ${P3_SELECTOR_VISIBLE_ITEMS}`)\n                );\n\n                const isNavKeyEvent = e.key === ARROW_DOWN_KEY || e.key === ARROW_UP_KEY;\n                if (isNavKeyEvent) {\n                    const nextItem = getNextElement(items, target, e.key !== ARROW_UP_KEY, true);\n                    if (nextItem) {\n                        nextItem.focus();\n                        closeSiblingDropdowns(nextItem.parentElement);\n                    }\n                }\n            }\n        }\n\n        // Dispatch custom event?\n        if (dispatchCustomEvent) {\n            target.dispatchEvent(new KeyboardEvent(P3_EVENT_KEYDOWN, e));\n        }\n    }\n\n    /**\n     * SHOW/HIDE ON HOVER\n     *\n     * @param {HTMLElement} navbar\n     * @param {Number} breakpoint\n     * @param {Number} timeout\n     * @return {undefined}\n     */\n    function activateHover(navbar, breakpoint, timeout) {\n\n        const dropdowns = navbar.querySelectorAll(BS_SELECTOR_DROPDOWN);\n\n        dropdowns.forEach(function(menuItem) {\n            menuItem.addEventListener('mouseenter', function(e) {\n                handleMouseEnter(menuItem, breakpoint, timeout);\n            });\n            menuItem.addEventListener('mouseleave', function(e) {\n                handleMouseLeave(menuItem, breakpoint, timeout);\n            });\n        });\n    }\n\n    /**\n     * Helper method for mouseenter event handler\n     *\n     * @param {HTMLElement} menuItem\n     * @param {Number} breakpoint\n     * @param {Number} timeout\n     * @return {undefined}\n     */\n    function handleMouseEnter(menuItem, breakpoint, timeout) {\n\n        if (getClientWidth() < breakpoint) {\n            return;\n        }\n\n        const toggleElement = menuItem.querySelector(BS_SELECTOR_DATA_TOGGLE);\n\n        if (toggleElement instanceof HTMLElement) {\n            if (timeout > 0) {\n                // Clear the previously registered timeout, if any\n                const timeoutID = toggleElement.getAttribute(`data-${P3_DATA_TIMEOUT_ID}`);\n                if (timeoutID > 0) {\n                    clearTimeout(timeoutID);\n                }\n            }\n            if (!toggleElement.classList.contains(BS_CLASS_SHOW)) {\n                const toggle = BsDropdown.getOrCreateInstance(toggleElement);\n                if (toggle instanceof BsDropdown) {\n                    toggle.show();\n                }\n            }\n        }\n    }\n\n    /**\n     * Helper method for mouseleave event handler\n     *\n     * @param {HTMLElement} menuItem\n     * @param {Number} breakpoint\n     * @param {Number} timeout\n     * @return {undefined}\n     */\n    function handleMouseLeave(menuItem, breakpoint, timeout) {\n\n        if (getClientWidth() < breakpoint) {\n            return;\n        }\n\n        const toggleElement = menuItem.querySelector(BS_SELECTOR_DATA_TOGGLE);\n\n        if (toggleElement instanceof HTMLElement) {\n            // Clear the previously registered timeout, if any\n            if (toggleElement.classList.contains(BS_CLASS_SHOW) && timeout > 0) {\n                const timeoutID = toggleElement.getAttribute(`data-${P3_DATA_TIMEOUT_ID}`);\n                if (timeoutID > 0) {\n                    clearTimeout(timeoutID);\n                }\n            }\n            // Add a timeout for delaying hide events so that the mouse leaving\n            // the control will not immediatly close the submenu\n            toggleElement.setAttribute(`data-${P3_DATA_TIMEOUT_ID}`, setTimeout(\n                function() {\n                    if (toggleElement.classList.contains(BS_CLASS_SHOW)) {\n                        const toggle = BsDropdown.getOrCreateInstance(toggleElement);\n                        if (toggle instanceof BsDropdown) {\n                            toggle.hide();\n                        }\n                    }\n                },\n                timeout\n            ));\n        }\n    }\n\n    /**\n     * Determine navbar expand breakpoint form expand-(sm|md|lg|xl) class if present\n     *\n     * @param {HTMLElement} navbar\n     * @return {integer|null}\n     */\n    function getExpandBreakpoint(navbar) {\n        for (const nc of navbar.classList) {\n            const rootStyle = window.getComputedStyle(document.documentElement);\n            const breakpoint = parseInt(rootStyle.getPropertyValue(`--p3-bs-${nc}`));\n            if (Number.isInteger(breakpoint)) {\n                return breakpoint;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * p3bsNavbar main function\n     *\n     * @param {string} selector A valid string selector, an HTMLElement, an\n     *      Array of elements or a NodeList\n     * @param {Object} options\n     * @return {undefined}\n     */\n    const p3bsNavbar = function(selector, options) {\n\n        const OPTIONS = Object.assign({}, p3bsNavbar.defaults, options);\n\n        let navbars = [];\n\n        if (typeof(selector) === 'string') {\n            navbars = document.querySelectorAll(selector);\n        } else if (selector instanceof HTMLElement) {\n            navbars = [selector];\n        } else if (selector instanceof Array || selector instanceof NodeList) {\n            selector.forEach(function(element) {\n                if (element instanceof HTMLElement) {\n                    navbars.push(element);\n                }\n            });\n        }\n\n        navbars.forEach(function(navbar) {\n            // Make a copy to preserve the original OPTIONS object\n            const OPT = Object.assign({}, OPTIONS);\n\n            // Determine navbar expand breakpoint\n            const breakpoint = getExpandBreakpoint(navbar);\n            if (breakpoint > 0) {\n                OPT.breakpoint = breakpoint;\n            }\n\n            if (OPT.customEvents) {\n                // Dispatch custom event on BS_EVENT_SHOW\n                navbar.addEventListener(BS_EVENT_SHOW, function(e) {\n                    const target = e.relatedTarget || e.target;\n                    target.dispatchEvent(new Event(P3_EVENT_SHOW, P3_EVENT_OPTS));\n                });\n\n                // Dispatch custom event on BS_EVENT_HIDE\n                navbar.addEventListener(BS_EVENT_HIDE, function(e) {\n                    const target = e.relatedTarget || e.target;\n                    target.dispatchEvent(new Event(P3_EVENT_HIDE, P3_EVENT_OPTS));\n                });\n            }\n\n            // handle BS_EVENT_SHOWN events\n            navbar.addEventListener(BS_EVENT_SHOWN, function(e) {\n                handleShownEvent(e, OPT.breakpoint, OPT.closeOthers, OPT.stopPropagation);\n            });\n\n            // handle BS_EVENT_HIDDEN events\n            navbar.addEventListener(BS_EVENT_HIDDEN, function(e) {\n                handleHiddenEvent(e, OPT.stopPropagation, OPT.customEvents);\n            });\n\n            // handle CLICK events (BS_EVENT_CLICK_DATA_API not used)\n            navbar.addEventListener('click', function(e) {\n                handleClickDataApiEvent(e, OPT.hover, OPT.timeout, OPT.customEvents);\n            });\n\n            // handle KEYDOWN events (BS_EVENT_KEYDOWN_DATA_API not used)\n            document.addEventListener('keydown', function(e) {\n                handleKeydown(e, navbar, OPT.customEvents);\n            }, true); // CAPTURE events before document where bs listeners are registered\n\n            // Close menus on OPT.breakpoint crossing\n            let previousWidth = getClientWidth();\n            window.addEventListener('resize', function(e) {\n                previousWidth = handleBreakpointCrossing(navbar, breakpoint, previousWidth);\n            });\n\n            // Activate hover dropdown\n            if (OPT.hover && !isTouchDevice) {\n                activateHover(navbar, OPT.breakpoint, OPT.timeout);\n            }\n\n            // Close external dropdowns on showing navbar dropdowns\n            navbar.addEventListener(P3_EVENT_SHOWN, function(e) {\n                closeExternalDropdowns(navbar);\n                if (OPT.stopPropagation) {\n                    e.stopPropagation(); // No need to propagate outside the navbar\n                }\n            });\n        });\n    };\n\n    p3bsNavbar.defaults = {\n        breakpoint: 768,\n        hover: false,\n        timeout: 250,\n        closeOthers: false,\n        stopPropagation: false,\n        customEvents: false,\n    };\n\n    // Define the vendor namespace and library namespace and if not already set\n    window.pine3ree = window.pine3ree || {};\n    window.pine3ree.bs = window.pine3ree.bs || {};\n\n    // Assign the main function to the right namespace\n    window.pine3ree.bs.navbar = p3bsNavbar;\n    // Assign the main function to the window object using the same name for the\n    // jQuery plugin\n    window.p3bsNavbar = p3bsNavbar;\n\n    // Add jQuery plugin if jQuery is loaded\n    if (typeof($) === 'function' && $().fn === $.jquery) {\n        $.fn.p3bsNavbar = function(options) {\n            const opts = $.extend($.fn.p3bsNavbar.defaults, options);\n            p3bsNavbar(this.get(), opts);\n        };\n\n        $.fn.p3bsNavbar.defaults = p3bsNavbar.defaults;\n    }\n})(window.bootstrap, window.jQuery);\n"],"mappings":"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"}